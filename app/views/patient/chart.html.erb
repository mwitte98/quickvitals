<% provide(:title, "#{@patientName} Chart") %>
<body>
	<div class="container">
		<h1><%= @patientName %> Chart</h1>
		<p><%= link_to "Edit #{@patientName} Profile", editpatient_path, {class: "btn btn-md btn-primary"} %></p>
		<p><%= link_to "#{@patientName} Vitals", vitalsOverview_path, {class: "btn btn-md btn-primary"} %></p>
		
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Medications</h3>
      </div>
      <div class="panel-body">
        <ul>
          <% if @patient[:medications].size == 0 %>
            <li>None</li>
          <% else %>
            <% @patient[:medications].each do |med| %>
              <li><%= med %></li>
            <% end %>
          <% end %>
        </ul>
      </div>
    </div>

    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Symptoms</h3>
      </div>
      <div class="panel-body">
        <ul>
        <% if @patient[:symptoms].size == 0 %>
          <li>None</li>
        <% else %>
          <% @patient[:symptoms].each do |symptom| %>
            <li><%= symptom %></li>
          <% end %>
        <% end %>
        </ul>
      </div>
    </div>
	
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Allergies</h3>
      </div>
      <div class="panel-body">
        <ul>
          <% if @patient[:allergies].size == 0 %>
            <li>None</li>
          <% else %>
            <% @patient[:allergies].each do |allergy| %>
              <li><%= allergy %></li>
            <% end %>
          <% end %>
        </ul>
      </div>
    </div>

		<p><%= link_to "#{@patientName} Completed Tasks", tasks_path %></p>
		
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Tasks To Complete</h3>
      </div>
      <div class="panel-body">
       <ul>
        <% if @patient[:tasksToComplete].size == 0 %>
          <li>None</li>
        <% else %>
          <% @patient[:tasksToComplete].each do |task| %>
            <li><%= task %></li>
          <% end %>
        <% end %>
        </ul>
      </div>
    </div>
		
		<br>
		<button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#addTaskModal">Add Task</button>
		
		<!-- Modal -->
		<div class="modal fade" id="addTaskModal" role="dialog" aria-labelledby="addTaskModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<h4 class="modal-title" id="addTaskModalLabel">Add Task</h4>
					</div>
					<div class="modal-body">
						<form>
							<div class="form-group">
								<label for="taskDesc" class="control-label">Task Description:</label>
								<textarea class="form-control" id="taskDesc"></textarea>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Add task</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
